{"ast":null,"code":"import { createStore, combineReducers } from 'redux';\nimport { persistStore, persistReducer } from 'redux-persist';\nimport DefaultStorage from 'redux-persist/lib/storage';\nimport userReducer from '../reducers/user';\nimport CustomCookieStorage from '../../utils/helpers/customCookieStorage';\nimport dataReducer from '../reducers/data';\nexport function initializeStore(req, res) {\n  // pass to server\n  const persistCookieConfig = {\n    key: 'root',\n    storage: CustomCookieStorage(req, res)\n  };\n  const persistCookieConfig1 = {\n    key: 'root1',\n    storage: CustomCookieStorage(req, res) // used in client local storage\n\n  };\n  const localStorageConfig = {\n    key: 'local',\n    storage: DefaultStorage\n  };\n  const rootReducer = combineReducers({\n    user: persistReducer(persistCookieConfig, userReducer),\n    dataLocal: persistReducer(localStorageConfig, dataReducer),\n    dataCookie: persistReducer(persistCookieConfig1, dataReducer) // data: dataReducer\n\n  });\n  const store = createStore( // combineReducers<StoreState>({ user: userReducer })\n  rootReducer);\n  const persistor = persistStore(store, {});\n  return {\n    store,\n    persistor\n  };\n}","map":{"version":3,"sources":["/Users/raghavahuja/playground/next_ts/src/redux/config/index.ts"],"names":["createStore","combineReducers","persistStore","persistReducer","DefaultStorage","userReducer","CustomCookieStorage","dataReducer","initializeStore","req","res","persistCookieConfig","key","storage","persistCookieConfig1","localStorageConfig","rootReducer","user","dataLocal","dataCookie","store","persistor"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,eAAtB,QAAoD,OAApD;AACA,SAASC,YAAT,EAAkCC,cAAlC,QAAwD,eAAxD;AACA,OAAOC,cAAP,MAA2B,2BAA3B;AACA,OAAOC,WAAP,MAAkC,kBAAlC;AAGA,OAAOC,mBAAP,MAAgC,yCAAhC;AACA,OAAOC,WAAP,MAAkC,kBAAlC;AAUA,OAAO,SAASC,eAAT,CAAyBC,GAAzB,EAAoCC,GAApC,EAAuF;AAE5F;AACA,QAAMC,mBAAmB,GAAG;AAC1BC,IAAAA,GAAG,EAAE,MADqB;AAE1BC,IAAAA,OAAO,EAAEP,mBAAmB,CAACG,GAAD,EAAMC,GAAN;AAFF,GAA5B;AAKA,QAAMI,oBAAoB,GAAG;AAC3BF,IAAAA,GAAG,EAAE,OADsB;AAE3BC,IAAAA,OAAO,EAAEP,mBAAmB,CAACG,GAAD,EAAMC,GAAN,CAFD,CAK7B;;AAL6B,GAA7B;AAMA,QAAMK,kBAAkB,GAAG;AACzBH,IAAAA,GAAG,EAAE,OADoB;AAEzBC,IAAAA,OAAO,EAAET;AAFgB,GAA3B;AAKA,QAAMY,WAAW,GAAGf,eAAe,CACjC;AACEgB,IAAAA,IAAI,EAAEd,cAAc,CAACQ,mBAAD,EAAsBN,WAAtB,CADtB;AAEEa,IAAAA,SAAS,EAAEf,cAAc,CAACY,kBAAD,EAAqBR,WAArB,CAF3B;AAGEY,IAAAA,UAAU,EAAEhB,cAAc,CAACW,oBAAD,EAAuBP,WAAvB,CAH5B,CAIE;;AAJF,GADiC,CAAnC;AASA,QAAMa,KAAY,GAAGpB,WAAW,EAC9B;AACAgB,EAAAA,WAF8B,CAAhC;AAIA,QAAMK,SAAS,GAAGnB,YAAY,CAACkB,KAAD,EAAQ,EAAR,CAA9B;AAEA,SAAO;AAAEA,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAP;AACD","sourcesContent":["import { createStore, combineReducers, Store } from 'redux'\nimport { persistStore, Persistor, persistReducer } from 'redux-persist'\nimport DefaultStorage from 'redux-persist/lib/storage'\nimport userReducer, { User } from '../reducers/user';\n\nimport ActionTypes from './types';\nimport CustomCookieStorage from '../../utils/helpers/customCookieStorage';\nimport dataReducer, { Data } from '../reducers/data';\n\nexport interface StoreState {\n  user: User,\n  dataLocal: Data,\n  dataCookie: Data\n}\n\nexport type CustomReducer<T> = (state: T, action: { type: ActionTypes, payload: any }) => T\n\nexport function initializeStore(req?: any, res?: any): { store: Store, persistor: Persistor } {\n\n  // pass to server\n  const persistCookieConfig = {\n    key: 'root',\n    storage: CustomCookieStorage(req, res)\n  }\n\n  const persistCookieConfig1 = {\n    key: 'root1',\n    storage: CustomCookieStorage(req, res)\n  }\n\n  // used in client local storage\n  const localStorageConfig = {\n    key: 'local',\n    storage: DefaultStorage\n  }\n\n  const rootReducer = combineReducers<StoreState>(\n    {\n      user: persistReducer(persistCookieConfig, userReducer),\n      dataLocal: persistReducer(localStorageConfig, dataReducer),\n      dataCookie: persistReducer(persistCookieConfig1, dataReducer)\n      // data: dataReducer\n    }\n  )\n\n  const store: Store = createStore(\n    // combineReducers<StoreState>({ user: userReducer })\n    rootReducer\n  )\n  const persistor = persistStore(store, {})\n\n  return { store, persistor }\n}\n\n"]},"metadata":{},"sourceType":"module"}